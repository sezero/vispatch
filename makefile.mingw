# GNU Makefile for vispatch windows binaries using GCC (MinGW).
# $Id: makefile.mingw,v 1.4 2011-07-15 09:33:49 sezero Exp $

CC ?= gcc

OBJECTS:= utilslib.o \
	strlcat.o \
	strlcpy.o \
	vispatch.o

OPTIMIZATIONS= -O2

CFLAGS = -g -Wall -W -Wshadow -DWIN32_LEAN_AND_MEAN $(OPTIMIZATIONS)
LDFLAGS= -mconsole

all: vispatch.exe

.c.o:
	$(CC) $(CFLAGS) -c $*.c

vispatch.exe: $(OBJECTS)
	$(CC) -o $@ $(OBJECTS) $(LDFLAGS)

clean:
	rm -f *.o *.d

